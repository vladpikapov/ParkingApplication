<div class="container-fluid">
  <div class="row">
    <div class="card">
      <div class="card-body">
        <dx-form [(formData)]="formData" (onFieldDataChanged)="checkDate($event)">
          <dxi-item *ngIf="this.as.currentUser.role === 'Admin'" dataField="userId" [label]="{text: 'User'}" editorType="dxSelectBox"
                    [editorOptions]="{dataSource: this.dataSelectBox, displayExpr: 'login'}"></dxi-item>
          <dxi-item dataField="orderStartDate" editorType="dxDateBox"
                    [label]="{text:'Start date'}"
                    [editorOptions]="{ value: null, width: '100%', type: 'datetime', showClearButton: 'true', useMaskBehavior: 'true', onValueChanged: checkDate, min: startDate}">
            <dxi-validation-rule type="required"></dxi-validation-rule>
          </dxi-item>
          <dxi-item dataField="orderEndDate" editorType="dxDateBox"
                    [label]="{text:'End date'}"
                    [editorOptions]="editorEndDate">
            <dxi-validation-rule type="required"></dxi-validation-rule>
          </dxi-item>
        </dx-form>
        <div class="row">
          <div class="col-12 justify-content-center">
        <dx-button (onClick)="addOrder()" class="btn btn-outline-dark mt-4 w-100">
          Create order
        </dx-button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<dx-popup [(visible)]="visiblePopup" width="400" [height]="350"
          title="Order information">
  Order info:
  <br>
  <br>
  <ul>
    <li>Start date: {{this.infoData.orderStartDate | date:'medium'}}</li>
    <li>End date: {{this.infoData.orderEndDate | date:'medium'}}</li>
    <li>Parking address: {{this.infoData.parkingId.address}}</li>
  </ul>
  <br>
  Cost: {{allCost}} BYN.
  <br>
  <dx-button (onClick)="postOrder()" class="mt-3 mx-auto btn btn-outline-dark">Complete</dx-button>
</dx-popup>
